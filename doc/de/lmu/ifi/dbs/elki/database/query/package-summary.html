<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_03) on Fri May 11 11:03:27 CEST 2012 -->
<title>de.lmu.ifi.dbs.elki.database.query (ELKI: Environment for DeveLoping KDD-Applications Supported by Index-Structures)</title>
<meta name="date" content="2012-05-11">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="de.lmu.ifi.dbs.elki.database.query (ELKI: Environment for DeveLoping KDD-Applications Supported by Index-Structures)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
				<img src="../../../../../../../figures/elki-logo-200.png" width="200"></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/ids/integer/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/distance/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?de/lmu/ifi/dbs/elki/database/query/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;de.lmu.ifi.dbs.elki.database.query</h1>
<div class="docSummary">
<div class="block"><b>Database queries</b> - computing distances, neighbors, similarities - API and general documentation.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer"><map id="APIVIZ" name="APIVIZ">
<area shape="rect" id="node1" href="DoubleDistanceResultPair.html" title="DoubleDistanceResultPair" alt="" coords="629,724,803,751"/>
<area shape="rect" id="node2" href="GenericDistanceResultPair.html" title="GenericDistanceResultPair" alt="" coords="627,779,805,805"/>
<area shape="rect" id="node3" href="knn/LinearScanKNNQuery.html" title="LinearScanKNNQuery (de.lmu.ifi.dbs.elki.database.query.knn)" alt="" coords="905,72,1153,115"/>
<area shape="rect" id="node4" href="rknn/LinearScanRKNNQuery.html" title="LinearScanRKNNQuery (de.lmu.ifi.dbs.elki.database.query.rknn)" alt="" coords="903,139,1156,181"/>
<area shape="rect" id="node5" href="range/LinearScanRangeQuery.html" title="LinearScanRangeQuery (de.lmu.ifi.dbs.elki.database.query.range)" alt="" coords="900,205,1159,248"/>
<area shape="rect" id="node6" href="range/LinearScanRawDoubleDistanceRangeQuery.html" title="LinearScanRawDoubleDistanceRangeQuery (de.lmu.ifi.dbs.elki.database.query.range)" alt="" coords="892,5,1167,48"/>
<area shape="rect" id="node7" href="../../utilities/pairs/Pair.html" title="Pair (de.lmu.ifi.dbs.elki.utilities.pairs)" alt="" coords="288,779,496,821"/>
<area shape="rect" id="node8" href="knn/PreprocessorKNNQuery.html" title="PreprocessorKNNQuery (de.lmu.ifi.dbs.elki.database.query.knn)" alt="" coords="905,433,1153,476"/>
<area shape="rect" id="node9" href="rknn/PreprocessorRKNNQuery.html" title="PreprocessorRKNNQuery (de.lmu.ifi.dbs.elki.database.query.rknn)" alt="" coords="903,500,1156,543"/>
<area shape="rect" id="node10" href="distance/PrimitiveDistanceSimilarityQuery.html" title="PrimitiveDistanceSimilarityQuery (de.lmu.ifi.dbs.elki.database.query.distance)" alt="" coords="1203,300,1480,343"/>
<area shape="rect" id="node11" href="AbstractDataBasedQuery.html" title="AbstractDataBasedQuery" alt="" coords="631,508,801,535"/>
<area shape="rect" id="node12" href="knn/AbstractDistanceKNNQuery.html" title="AbstractDistanceKNNQuery (de.lmu.ifi.dbs.elki.database.query.knn)" alt="" coords="903,567,1156,609"/>
<area shape="rect" id="node13" href="distance/AbstractDistanceQuery.html" title="AbstractDistanceQuery (de.lmu.ifi.dbs.elki.database.query.distance)" alt="" coords="889,633,1169,676"/>
<area shape="rect" id="node14" href="range/AbstractDistanceRangeQuery.html" title="AbstractDistanceRangeQuery (de.lmu.ifi.dbs.elki.database.query.range)" alt="" coords="899,700,1160,743"/>
<area shape="rect" id="node15" href="rknn/AbstractRKNNQuery.html" title="AbstractRKNNQuery (de.lmu.ifi.dbs.elki.database.query.rknn)" alt="" coords="901,767,1157,809"/>
<area shape="rect" id="node16" href="similarity/AbstractSimilarityQuery.html" title="AbstractSimilarityQuery (de.lmu.ifi.dbs.elki.database.query.similarity)" alt="" coords="888,367,1171,409"/>
<area shape="rect" id="node17" title="&#171;interface&#187; Comparable (java.lang)" alt="" coords="85,596,176,655"/>
<area shape="rect" id="node18" href="../Database.html" title="&#171;interface&#187; Database (de.lmu.ifi.dbs.elki.database)" alt="" coords="299,103,485,161"/>
<area shape="rect" id="node19" href="DatabaseQuery.html" title="&#171;interface&#187; DatabaseQuery" alt="" coords="336,392,448,435"/>
<area shape="rect" id="node20" href="distance/DistanceQuery.html" title="&#171;interface&#187; DistanceQuery (de.lmu.ifi.dbs.elki.database.query.distance)" alt="" coords="577,425,855,484"/>
<area shape="rect" id="node21" href="DistanceResultPair.html" title="&#171;interface&#187; DistanceResultPair" alt="" coords="325,687,459,729"/>
<area shape="rect" id="node22" href="DistanceSimilarityQuery.html" title="&#171;interface&#187; DistanceSimilarityQuery" alt="" coords="948,300,1111,343"/>
<area shape="rect" id="node23" href="knn/KNNQuery.html" title="&#171;interface&#187; KNNQuery (de.lmu.ifi.dbs.elki.database.query.knn)" alt="" coords="592,177,840,236"/>
<area shape="rect" id="node24" href="knn/KNNResult.html" title="&#171;interface&#187; KNNResult (de.lmu.ifi.dbs.elki.database.query.knn)" alt="" coords="7,679,255,737"/>
<area shape="rect" id="node25" href="LinearScanQuery.html" title="&#171;interface&#187; LinearScanQuery" alt="" coords="655,111,777,153"/>
<area shape="rect" id="node26" href="../../utilities/pairs/PairInterface.html" title="&#171;interface&#187; PairInterface (de.lmu.ifi.dbs.elki.utilities.pairs)" alt="" coords="27,761,235,820"/>
<area shape="rect" id="node27" href="rknn/RKNNQuery.html" title="&#171;interface&#187; RKNNQuery (de.lmu.ifi.dbs.elki.database.query.rknn)" alt="" coords="589,641,843,700"/>
<area shape="rect" id="node28" href="range/RangeQuery.html" title="&#171;interface&#187; RangeQuery (de.lmu.ifi.dbs.elki.database.query.range)" alt="" coords="587,559,845,617"/>
<area shape="rect" id="node29" href="../relation/Relation.html" title="&#171;interface&#187; Relation (de.lmu.ifi.dbs.elki.database.relation)" alt="" coords="599,260,833,319"/>
<area shape="rect" id="node30" href="similarity/SimilarityQuery.html" title="&#171;interface&#187; SimilarityQuery (de.lmu.ifi.dbs.elki.database.query.similarity)" alt="" coords="576,343,856,401"/>
</map>

<CENTER><IMG SRC="package-summary.png" USEMAP="#APIVIZ" BORDER="0"></CENTER>
<BR>

<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query">DatabaseQuery</a></td>
<td class="colLast">
<div class="block">General interface for database queries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DistanceResultPair.html" title="interface in de.lmu.ifi.dbs.elki.database.query">DistanceResultPair</a>&lt;D extends <a href="../../../../../../../de/lmu/ifi/dbs/elki/distance/distancevalue/Distance.html" title="interface in de.lmu.ifi.dbs.elki.distance.distancevalue">Distance</a>&lt;?&gt;&gt;</td>
<td class="colLast">
<div class="block">Class that consists of a pair (distance, object ID) commonly returned for kNN
 and range queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DistanceSimilarityQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query">DistanceSimilarityQuery</a>&lt;O,D extends <a href="../../../../../../../de/lmu/ifi/dbs/elki/distance/distancevalue/Distance.html" title="interface in de.lmu.ifi.dbs.elki.distance.distancevalue">Distance</a>&lt;D&gt;&gt;</td>
<td class="colLast">
<div class="block">Interface that is a combination of distance and a similarity function.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/LinearScanQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query">LinearScanQuery</a></td>
<td class="colLast">
<div class="block">Marker interface for linear scan (slow, non-accelerated) queries.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/AbstractDataBasedQuery.html" title="class in de.lmu.ifi.dbs.elki.database.query">AbstractDataBasedQuery</a>&lt;O&gt;</td>
<td class="colLast">
<div class="block">Abstract query bound to a certain representation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DoubleDistanceResultPair.html" title="class in de.lmu.ifi.dbs.elki.database.query">DoubleDistanceResultPair</a></td>
<td class="colLast">
<div class="block">Optimized DistanceResultPair that avoids/postpones an extra layer of boxing
 for double values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/GenericDistanceResultPair.html" title="class in de.lmu.ifi.dbs.elki.database.query">GenericDistanceResultPair</a>&lt;D extends <a href="../../../../../../../de/lmu/ifi/dbs/elki/distance/distancevalue/Distance.html" title="interface in de.lmu.ifi.dbs.elki.distance.distancevalue">Distance</a>&lt;D&gt;&gt;</td>
<td class="colLast">
<div class="block">Trivial implementation using a generic pair.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package de.lmu.ifi.dbs.elki.database.query Description">Package de.lmu.ifi.dbs.elki.database.query Description</h2>
<div class="block"><p><b>Database queries</b> - computing distances, neighbors, similarities - API and general documentation.</p>
 
 <h2>Introduction</h2>
 
 <p>The database query API is designed around the concept of <b>prepared statements</b>.</p>
 <p>When working with index structures, preprocessors, caches and external data, computing
 a distance or a neighborhood is not as simple as running a constant time function.
 Some functions may only be defined on a subset of the data, others can be computed much
 more efficiently by performing a batch operation. When plenty of memory is available,
 caching can be faster than recomputing distances all the time. And often there will be more
 than one way of computing the same data
 (for example by using an index or doing a linear scan).</p>

 <p>Usually, these operations are invoked very often.
 Even deciding which method to use at every iteration can prove quite costly when the number
 of iterations becomes large. Therefore the goal is to "optimize" once, then invoke the same
 handler cheaply. This can be achieved by using "prepared statements" as this would be called
 in a traditional RDBMS context.</p>
 
 <h2>Prepared queries in ELKI</h2>
 
 <p>Prepared statements in ELKI are currently available for:
 <ul>
 <li>Distance queries: <a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/distance/DistanceQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query.distance"><code>DistanceQuery</code></a></li>
 <li>Similarity queries: <a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/similarity/SimilarityQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query.similarity"><code>SimilarityQuery</code></a></li>
 <li>kNN (k-nearest-neighbors) queries: <a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/knn/KNNQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query.knn"><code>KNNQuery</code></a></li>
 <li>&epsilon;-range queries: <a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/range/RangeQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query.range"><code>RangeQuery</code></a></li>
 <li>rkNN (reverse k-nearest-neighbors) queries: <a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/rknn/RKNNQuery.html" title="interface in de.lmu.ifi.dbs.elki.database.query.rknn"><code>RKNNQuery</code></a></li>
 </ul>
 with a quite similar API.</p>
 
 <h2>Obtaining query objects</h2>
 
 <p>The general process of obtaining a Query is to retrieve it from the database using:
 <ul>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/Database.html#getDistanceQuery(de.lmu.ifi.dbs.elki.database.relation.Relation, de.lmu.ifi.dbs.elki.distance.distancefunction.DistanceFunction, java.lang.Object...)"><code>Database.getDistanceQuery(distance)</code></a></li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/Database.html#getSimilarityQuery(de.lmu.ifi.dbs.elki.database.relation.Relation, de.lmu.ifi.dbs.elki.distance.similarityfunction.SimilarityFunction, java.lang.Object...)"><code>Database.getSimilarityQuery(similarity)</code></a></li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/Database.html#getKNNQuery(de.lmu.ifi.dbs.elki.database.query.distance.DistanceQuery, java.lang.Object...)"><code>Database.getKNNQuery(distance)</code></a></li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/Database.html#getRangeQuery(de.lmu.ifi.dbs.elki.database.query.distance.DistanceQuery, java.lang.Object...)"><code>Database.getRangeQuery(distance)</code></a></li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/Database.html#getRKNNQuery(de.lmu.ifi.dbs.elki.database.query.distance.DistanceQuery, java.lang.Object...)"><code>Database.getRKNNQuery(distance)</code></a></li>
 </ul>
 as appropriate. See the query class links above for the detailed API. Avoid calling this method within a loop construct!</p>
 
 <p>The query can then be evaluated on objects as needed.</p>
 
 <h2>Optimizer hints</h2>
 
 <p>In order to assist the database layer to choose the most suitable implementation, one should
 also provide so called "hints" as available. In general, any object could be a "hint" to the
 database layer (for extensibility), but the following are commonly used:</p>
 
 <ul>
 <li>An Integer as maximum value of "k" used in kNN and rkNN queries
 (since a preprocessor or index might only support a certain fixed maximum value)</li>
 <li>A maximum distance used in range queries</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_BULK"><code>DatabaseQuery.HINT_BULK</code></a> to request support for bulk operations</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_EXACT"><code>DatabaseQuery.HINT_EXACT</code></a> to exclude approximate answers</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_HEAVY_USE"><code>DatabaseQuery.HINT_HEAVY_USE</code></a> to suggest the use of a cache or preprocessor</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_OPTIMIZED_ONLY"><code>DatabaseQuery.HINT_OPTIMIZED_ONLY</code></a> to disallow linear scans</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_SINGLE"><code>DatabaseQuery.HINT_SINGLE</code></a> to disallow expensive optimizations, since the query will only be used once</li>
 <li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/DatabaseQuery.html#HINT_NO_CACHE"><code>DatabaseQuery.HINT_NO_CACHE</code></a> to disallow retrieving a cache class</li>
 </ul>
 
 <p>Please set these hints appropriately, since this can effect your algorithms performance!</p>
 
 <h2>Full example:</h2>
 
 <blockquote><pre> <code>// Get a kNN query with maxk = 10
 KNNQuery&lt;V, DoubleDistance&gt; knnQuery = database.getKNNQuery(EuclideanDistanceFunction.STATIC, 10);
 // run a 10NN query for each point, discarding the results
 for(DBID id : database) {
   knnQuery.getKNNForDBID(id, 10);
 }
 </code></pre></blockquote></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
				<table style="font-size:small;">
				<tr>
					<td colspan="2" align="left">Release 0.5.0~beta1 (2012-05-11_1100)</td>
				</tr></table></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/ids/integer/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../../de/lmu/ifi/dbs/elki/database/query/distance/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?de/lmu/ifi/dbs/elki/database/query/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
